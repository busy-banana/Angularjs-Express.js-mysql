<header>
	<md-toolbar>
		<div layout="row" layout-align="start center" flex>
			<md-button aria-label="back" class="md-icon-button" href="/login">
				<md-icon md-svg-icon="navigation:ic_arrow_back_24px"></md-icon>
			</md-button>
			<span>填写基本信息</span>
		</div>
	</md-toolbar>
</header>

<section>
	<md-content class="mc-content-top" layout-padding>
		<form name="patientInfoAddForm" layout="column" layout-align="start center" flex>
			<md-input-container class="mc-input-container">
				<label>姓名(必填)</label>
				<input type="text" name="name" ng-model="piac.patient.name" required/>
			</md-input-container>

			<md-input-container class="mc-input-container mc-input-container-select">
				<label>性别(必选)</label>
				<md-select ng-model="piac.patient.sex" name="sex" required>
					<md-option value="男">男</md-option>
					<md-option value="女">女</md-option>
				</md-select>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>出生日期(必填)</label>
				<input type="date" name="birthday" ng-model="piac.patient.birthday" placeholder="yyyy-mm-dd" min="1900-01-01" max="{{piac.maxbirthday}}" required/>
			</md-input-container>

			<md-input-container class="mc-input-container mc-input-container-select">
				<label>国籍</label>
				<md-select ng-model="piac.patient.countryCode">
					<md-option ng-repeat="countryCode in piac.countryCodes" value="{{ countryCode.code }}">
					{{ countryCode.chinese_short_name }}
					</md-option>
				</md-select>
			</md-input-container>

			<md-input-container class="mc-input-container mc-input-container-select">
				<label>证件类型(必选)</label>
				<md-select ng-model="piac.patient.certificateType" name="certificateType" required>
					<md-option value="01">居民身份证</md-option>
					<md-option value="02">港澳通行证</md-option>
					<md-option value="03">台湾通行证</md-option>
					<md-option value="04">护照</md-option>
				</md-select>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>证件号码(必填)</label>
				<input type="text" name="idCard" ng-model="piac.patient.idCard" required/>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>座机</label>
				<input type="text" name="fixedTel" ng-model="piac.patient.fixedTel"/>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>手机</label>
				<input type="text" name="mobilePhone" ng-model="piac.patient.mobilePhone"/>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>电子邮箱</label>
				<input type="email" name="email" ng-model="piac.patient.email" ng-pattern="/^.+@.+\..+$/"/>
				<div ng-messages="patientInfoAddForm.email.$error" role="alert">
					<div ng-message="pattern">请输入正确的邮箱地址！</div>
				</div>
				<!-- 
					<div ng-show="patientInfoAddForm.email.$error" class="mc-register-alert">请输入正确的邮箱地址
					</div>
					类型就是email还需要验证吗？
				-->
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>微信号</label>
				<input type="text" name="weChat" ng-model="piac.patient.weChat"/>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>地址</label>
				<input type="text" name="address" ng-model="piac.patient.address"/>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>邮政编码</label>
				<input type="text" name="postalCode" ng-model="piac.patient.postalCode" md-maxlength="6" ng-pattern="/^[0-9]{6,}$/"/>
				<div ng-messages="patientInfoAddForm.postalCode.$error" role="alert" multiple>
					<div ng-message="pattern">请输入正确的邮政编码!</div>
					<div ng-message="md-maxlength">请输入6位数的邮政编码!</div>
				</div>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>身高(cm)</label>
				<input type="number" name="height" step="1" ng-model="piac.patient.height"/>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>体重(kg)</label>
				<input type="number" name="weight" step="1" ng-model="piac.patient.weight"/>
			</md-input-container>

			<md-input-container class="mc-input-container mc-input-container-select">
				<label>血型</label>
				<md-select ng-model="piac.patient.bloodType" name="bloodType">
					<md-option value="01">A型</md-option>
					<md-option value="02">B型</md-option>
					<md-option value="03">O型</md-option>
					<md-option value="04">AB型</md-option>
				</md-select>
			</md-input-container>

			<md-input-container class="mc-input-container">
				<label>主要病症</label>
				<textarea ng-model="piac.patient.mainDisease" md-maxlength="1000" name="mainDisease"></textarea>
			</md-input-container>

			<md-button class="md-raised md-primary mc-btn-width" ng-disabled="patientInfoAddForm.$invalid" ng-click="piac.addInfo()">确定</md-button>
		</form>
	</md-content>
</section>